(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34c1e9a4"],{"022d":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mian"},[e("el-dialog",{attrs:{title:"收货地址",visible:t.dialogFormVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("div",{staticClass:"from"},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"跳转地址","label-width":"120px"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.targetUrl,callback:function(e){t.$set(t.form,"targetUrl",e)},expression:"form.targetUrl"}})],1),e("el-form-item",{attrs:{label:"图片地址","label-width":"120px"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.chartUrl,callback:function(e){t.$set(t.form,"chartUrl",e)},expression:"form.chartUrl"}}),e("el-upload",{attrs:{"http-request":t.uploadImg,"show-file-list":!1,action:""}},[e("el-button",{attrs:{size:"small",type:"text"}},[t._v("上传图片")])],1)],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)]),e("div",{staticClass:"top"},[e("el-card",{staticClass:"top_card"},[e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)],1),e("div",{staticClass:"table"},[e("el-card",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),e("el-table-column",{attrs:{prop:"targetUrl",label:"跳转链接"}}),e("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"click"}},[e("el-image",{attrs:{src:a.row.chartUrl}}),e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(a.row.chartUrl))])],1)]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.update(a.row)}}},[t._v(" 修改 ")]),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRow(a.row)}}},[t._v(" 移除 ")])]}}])})],1)],1)],1)],1)},l=[],s=a("b775");function i(t){return Object(s["a"])({url:"/admin/chart/update",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/admin/chart/list",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/admin/chart/del",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/admin/chart/save",method:"post",data:t})}var d=a("787e"),u={data(){return{tableData:[],dialogFormVisible:!1,dialogType:"",form:{chartUrl:"",targetUrl:""},dialogType:""}},methods:{getList(){o().then(t=>{this.tableData=t.data})},confirm(){"add"==this.dialogType?c(this.form).then(t=>{this.$message.success(t.data),this.dialogFormVisible=!1,this.getList()}):i(this.form).then(t=>{this.$message.success(t.data),this.dialogFormVisible=!1,this.getList()})},add(){this.dialogType="add",this.form={chartUrl:"",targetUrl:""},this.dialogFormVisible=!0},update(t){this.dialogType="update",this.form=(({chartId:t,chartUrl:e,targetUrl:a})=>({chartId:t,chartUrl:e,targetUrl:a}))(t),this.dialogFormVisible=!0},uploadImg(t){const e=new FormData;e.append("file",t.file),Object(d["a"])(e).then(t=>{this.$message.success("图片上传成功"),this.form.chartUrl="http://"+t.data.fileUrl})},progressCallBcak(t){console.log(t)},deleteRow(t){n({chartId:t.chartId}).then(t=>{this.$message.success(t.data),this.getList()})}},mounted(){this.getList()}},m=u,h=(a("3e19"),a("2877")),p=Object(h["a"])(m,r,l,!1,null,"761b0a0a",null);e["default"]=p.exports},"3e19":function(t,e,a){"use strict";a("c53d")},"787e":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("b775");function l(t){return Object(r["a"])({url:"/admin/imageUpload",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}},c53d:function(t,e,a){}}]);