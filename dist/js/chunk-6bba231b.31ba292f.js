(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bba231b"],{1896:function(e,t,a){"use strict";a("65d5")},"36b9":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("el-dialog",{attrs:{title:"修改",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"90px"}},[t("el-form-item",{attrs:{label:"资源名称"}},[t("el-input",{model:{value:e.form.achievementName,callback:function(t){e.$set(e.form,"achievementName",t)},expression:"form.achievementName"}})],1),t("el-form-item",{attrs:{label:"CODE链接"}},[t("el-input",{model:{value:e.form.codeUrl,callback:function(t){e.$set(e.form,"codeUrl",t)},expression:"form.codeUrl"}},[t("template",{slot:"prepend"},[e._v("Http://")])],2)],1),t("el-form-item",{attrs:{label:"PDF链接"}},[t("el-input",{model:{value:e.form.pdfUrl,callback:function(t){e.$set(e.form,"pdfUrl",t)},expression:"form.pdfUrl"}},[t("template",{slot:"prepend"},[e._v("Http://")])],2)],1),t("el-form-item",{attrs:{label:"发表年份"}},[t("el-date-picker",{attrs:{type:"year",placeholder:"选择年","value-format":"yyyy"},model:{value:e.form.publicYear,callback:function(t){e.$set(e.form,"publicYear",t)},expression:"form.publicYear"}})],1),t("el-form-item",{attrs:{label:"资源类型"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.achievementType,callback:function(t){e.$set(e.form,"achievementType",t)},expression:"form.achievementType"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),t("el-card",[t("el-table",{attrs:{"empty-text":"暂无数据",data:e.tableData,border:""}},[t("el-table-column",{attrs:{type:"index"}}),t("el-table-column",{attrs:{label:"成果名称",prop:"achievementName",width:"250"}}),t("el-table-column",{attrs:{label:"成果类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"success"}},[e._v(e._s(a.row.achievementType))])]}}])}),t("el-table-column",{attrs:{label:"发表年份",prop:"publicYear"}}),t("el-table-column",{attrs:{label:"资源链接",width:"600"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"column-item"},[t("span",[t("span",{staticStyle:{"font-weight":"600"}},[e._v("CODE:")]),e._v(e._s(a.row.codeUrl))])]),t("div",{staticClass:"column-item"},[t("span",[t("span",{staticStyle:{"font-weight":"600"}},[e._v("PDF:")]),e._v(e._s(a.row.pdfUrl))])])]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.edit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.del(a.row)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page.current,"page-sizes":[30,50,100,500],"page-size":e.page.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":this.getAchievementsList,"current-change":this.getAchievementsList,"update:currentPage":function(t){return e.$set(e.page,"current",t)},"update:current-page":function(t){return e.$set(e.page,"current",t)},"update:pageSize":function(t){return e.$set(e.page,"size",t)},"update:page-size":function(t){return e.$set(e.page,"size",t)}}})],1)],1)},i=[],n=a("73af");const r={TYPE_PATENT:"专利",TYPE_PAPER:"论文"};var o={data(){return{tableData:[],total:0,page:{size:30,current:1},form:{achievementId:"",achievementName:"",achievementType:"",codeUrl:"",pdfUrl:""},dialogFormVisible:!1,options:[{value:"论文",label:"论文"},{value:"专利",label:"专利"}]}},methods:{edit(e){console.log(e),this.form=(({achievementId:e,achievementName:t,achievementType:a,codeUrl:l,pdfUrl:i,publicYear:n})=>({achievementId:e,achievementName:t,achievementType:a,codeUrl:l,pdfUrl:i,publicYear:n}))(e),this.form.publicYear=this.form.publicYear+"",this.dialogFormVisible=!0},del(e){Object(n["b"])({achievementId:e.achievementId}).then(e=>{this.$message.success(e.data),this.dialogFormVisible=!1,this.getAchievementsList()})},confirm(){Object(n["d"])(this.form).then(e=>{this.$message.success(e.data),this.dialogFormVisible=!1,this.getAchievementsList()})},getAchievementsList(){Object(n["c"])(this.page).then(e=>{this.tableData=e.data.list,this.total=e.data.total})}},mounted(){this.getAchievementsList()},filters:{type_filter(e){return r[e]}}},s=o,c=(a("1896"),a("2877")),u=Object(c["a"])(s,l,i,!1,null,"a5275a16",null);t["default"]=u.exports},"65d5":function(e,t,a){},"73af":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var l=a("b775");function i(e){return Object(l["a"])({url:"/admin/achievement/queryAchievements",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/admin/achievement/update",method:"post",data:e})}function r(e){return Object(l["a"])({url:"/admin/achievement/addAchievement",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/admin/achievement/delAchievement",method:"post",data:e})}}}]);